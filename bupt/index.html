<html>
	<head>
		<meta http-equiv="content-type" content="text/html; charset=UTF-8">
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1">
		<title>Select</title>
	</head>
	<style>
		* {
			padding: 0;
			margin: 0;
		}

		@keyframes move {
			0% {
				transform: translateY(20vh);
			}

			70% {
				opacity: 1;
			}

			100% {
				transform: translateY(60vh);
				opacity: 0;
			}
		}

		#father {
			position: relative;
			overflow: hidden;
			animation: move 2s infinite linear;
			z-index: 998;
			display: none;
		}

		#son {
			width: 100%;
			height: 40px;
			background: radial-gradient(green, rgba(123, 13, 123, 0), rgba(123, 13, 123, 0));
			margin: 0 auto -20px;
		}

		#cover {
			position: fixed;
			top: 0;
			overflow: hidden;
			z-index: 999;
			width: 100vw;
			height: 100vh;
			display: none;
		}
	</style>
	<body>
		<script>
			function imgError() {
				alert("无法加载个人肖像，确定跳转到登录页面，请在登录完成后返回重试");
				window.location.href = "https://stu.bupt.edu.cn/new/index.html?browser=no";
			}
		</script>
		<div id="wrapper">
			<div id="father">
				<div id="son"></div>
			</div>
			<img id="testimg" src="http://stu.bupt.edu.cn/xsfw/sys/swpubapp/userinfo/getUserPhoto.do" width="0"
				height="0" onerror="imgError()">
			<video style="position: absolute;left: 0px;top: 0px;object-fit: cover;display: none;z-index: 996;"
				id="qr-video" width="100%" height="100%" autoplay="" webkit-playsinline="isiPhoneShowPlaysinline"
				x5-video-player-type="h5-page" data-idx="0" playsinline="isiPhoneShowPlaysinline" src=""></video>
			<div id="cover">
				<svg style="position: absolute;top: 20px;left: 45px;width: 25px;height: 25px;" t="1631004027008"
					class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7605"
					data-spm-anchor-id="a313x.7781069.0.i2" width="64" height="64">
					<path
						d="M512 64c-247.00852 0-448 200.960516-448 448S264.960516 960 512 960c247.00852 0 448-200.960516 448-448S759.039484 64 512 64zM694.752211 649.984034c12.480043 12.54369 12.447359 32.768069-0.063647 45.248112-6.239161 6.208198-14.399785 9.34412-22.591372 9.34412-8.224271 0-16.415858-3.135923-22.65674-9.407768l-137.60043-138.016718-138.047682 136.576912c-6.239161 6.14455-14.368821 9.247789-22.496761 9.247789-8.255235 0-16.479505-3.168606-22.751351-9.504099-12.416396-12.576374-12.320065-32.800753 0.25631-45.248112l137.887703-136.384249-137.376804-137.824056c-12.480043-12.512727-12.447359-32.768069 0.063647-45.248112 12.512727-12.512727 32.735385-12.447359 45.248112 0.063647l137.567746 137.984034 138.047682-136.575192c12.54369-12.447359 32.831716-12.320065 45.248112 0.25631 12.447359 12.576374 12.320065 32.831716-0.25631 45.248112L557.344443 512.127295 694.752211 649.984034z"
						p-id="7606" data-spm-anchor-id="a313x.7781069.0.i0" class="" fill="#ffffff"></path>
				</svg>
				<svg style="position: absolute;top: 20px;right: 45px;width: 25px;height: 25px;" t="1631004214640"
					class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="10828"
					width="64" height="64">
					<path
						d="M283.733333 426.666667c23.466667 0 42.666667 8.533333 59.733334 25.6 17.066667 17.066667 25.6 36.266667 25.6 59.733333 0 23.466667-8.533333 42.666667-25.6 59.733333-17.066667 17.066667-36.266667 25.6-59.733334 25.6s-42.666667-8.533333-59.733333-25.6c-17.066667-17.066667-25.6-36.266667-25.6-59.733333s8.533333-42.666667 25.6-59.733333c17.066667-17.066667 36.266667-25.6 59.733333-25.6z m228.266667 0c23.466667 0 42.666667 8.533333 59.733333 25.6 17.066667 17.066667 25.6 36.266667 25.6 59.733333 0 23.466667-8.533333 42.666667-25.6 59.733333-17.066667 17.066667-36.266667 25.6-59.733333 25.6s-42.666667-8.533333-59.733333-25.6c-17.066667-17.066667-25.6-36.266667-25.6-59.733333 0-23.466667 8.533333-42.666667 25.6-59.733333 17.066667-17.066667 36.266667-25.6 59.733333-25.6z m228.266667 0c23.466667 0 42.666667 8.533333 59.733333 25.6 17.066667 17.066667 25.6 36.266667 25.6 59.733333 0 23.466667-8.533333 42.666667-25.6 59.733333-17.066667 17.066667-36.266667 25.6-59.733333 25.6s-42.666667-8.533333-59.733334-25.6c-17.066667-17.066667-25.6-36.266667-25.6-59.733333 0-23.466667 8.533333-42.666667 25.6-59.733333 14.933333-17.066667 36.266667-25.6 59.733334-25.6z"
						p-id="10829" data-spm-anchor-id="a313x.7781069.0.i10" class="selected" fill="#ffffff"></path>
				</svg>
				<svg style="position: absolute;left: 45px;bottom: 40px;width: 35px;height: 35px;" t="1631004214640"
					t="1631004915913" class="icon" viewBox="0 0 1024 1024" version="1.1"
					xmlns="http://www.w3.org/2000/svg" p-id="48890" width="128" height="128">
					<path
						d="M512 0c282.76736 0 512 229.23264 512 512s-229.23264 512-512 512S0 794.76736 0 512 229.23264 0 512 0z"
						fill="rgba(0,0,0,0.2)" p-id="48891" data-spm-anchor-id="a313x.7781069.0.i36" class=""></path>
					<path
						d="M714.8544 650.31168h-17.47968v72.3968h-17.52064v-90.368h52.52096v35.88096h18.10432v-35.88096H768v53.85216h-53.1456v-35.88096z m-35.00032-126.89408H768v90.112h-88.14592v-90.112z m17.52064 72.40704h53.10464v-54.48704h-53.10464v54.48704z m-126.98624 36.51584h88.09472v90.368h-88.09472v-90.368z m17.46944 72.3968h53.1456v-54.4256h-53.1456v54.4256z m-17.46944-181.31968h88.09472v90.112h-88.09472v-90.112z m17.46944 72.40704h53.1456v-54.48704h-53.1456v54.48704z m-73.90208-93.06112c-29.37856 36.31104-17.44896 53.08416-16.52736 54.94784a88.23808 88.23808 0 0 0 35.69664 28.9792v108.84096H256.67584c-0.91136-4.6592-0.91136-16.76288 0-29.7984 2.75456-23.28576 11.93984-40.0384 25.7024-50.28864 10.10688-7.44448 22.94784-11.17184 33.96608-13.96736 5.50912-0.93184 11.01824-2.79552 15.60576-3.72736 27.53536-6.51264 47.07328-13.03552 68.17792-40.98048 1.83296-1.85344 12.8512-18.61632-16.51712-54.9376-12.86144-15.83104-21.11488-37.25312-24.79104-64.256-3.67616-27.93472-0.91136-54.016 1.83296-70.76864 3.67616-19.56864 14.68416-37.26336 31.21152-50.29888A91.81184 91.81184 0 0 1 448.77824 296.96c20.18304 0 40.38656 6.51264 56.91392 19.54816 16.51712 13.03552 27.53536 30.73024 31.21152 51.22048 2.74432 16.76288 5.50912 42.84416 1.83296 70.77888-3.67616 26.07104-11.9296 47.49312-24.7808 64.256z"
						fill="#FFFFFF" p-id="48892" data-spm-anchor-id="a313x.7781069.0.i37" class="selected"></path>
				</svg>
				<svg style="position: absolute;right: 45px;bottom: 40px;width: 35px;height: 35px;" t="1631004915913"
					class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="48890"
					width="128" height="128">
					<path
						d="M512 0c282.76736 0 512 229.23264 512 512s-229.23264 512-512 512S0 794.76736 0 512 229.23264 0 512 0z"
						fill="rgba(0,0,0,0.2)" p-id="48891" data-spm-anchor-id="a313x.7781069.0.i36" class=""></path>
					<path
						d="M866.219487 220.970694 155.475004 220.970694c-14.020318 0-25.38311 11.363815-25.38311 25.38311l0 507.674485c0 14.015202 11.363815 25.379017 25.38311 25.379017l710.74346 0c14.015202 0 25.38311-11.363815 25.38311-25.379017L891.601574 246.354827C891.602597 232.334509 880.234689 220.970694 866.219487 220.970694L866.219487 220.970694zM840.835354 271.733844 840.835354 557.305859l-126.918621-95.189989-101.535511 76.147284 25.38311 76.150354L383.928113 373.273449 180.859138 564.393277 180.859138 271.733844 840.835354 271.733844 840.835354 271.733844zM840.835354 271.733844"
						p-id="21991" data-spm-anchor-id="a313x.7781069.0.i5" class="selected" fill="#ffffff"></path>
				</svg>
				<div style="bottom: 120px;position: absolute;color: whitesmoke;text-align: center;width: 100%;">
					扫二维码 / 条码 / 小程序码
				</div>
			</div>
		</div>
		<table style="margin: auto;padding-top: 10px;">
			<form action="detail.html" name="form" method="get">
				<tr>
					<td>
						姓名：
					</td>
					<td>
						<input type="text" name="name" id="name" style="height: 40px;width: 200px;" />
					</td>
				</tr>
				<tr>
					<td>
						学院：
					</td>
					<td>
						<input type="text" name="depart" id="depart" style="height: 40px;width: 200px;" />
					</td>
				</tr>
				<tr>
					<td>
						学号：
					</td>
					<td>
						<input type="text" name="number" id="number" style="height: 40px;width: 200px;" />
					</td>
				</tr>
				<tr>
					<td>
						状态：
					</td>
					<td>
						<select name="status" id="status" style="height: 40px;width: 200px;">
							<option value="出校">出校</option>
							<option value="入校">入校</option>
						</select>
					</td>
				</tr>
				<tr>
					<td colspan="2">
						<input id="change" type="button"
							style="height: 40px;width: 100%;background-color: goldenrod;color: azure;border: 0px;font-size: larger;"
							value="更换" onclick="generate()" />
					</td>
				</tr>
				<tr>
					<td colspan="2">
						<input type="submit"
							style="height: 40px;width: 100%;;background-color: seagreen;color: azure;border: 0px;font-size: larger;"
							value="生成">
					</td>
				</tr>
				<tr>
					<td colspan="2">
						<input type="button"
							style="height: 40px;width: 100%;;background-color: royalblue;color: azure;border: 0px;font-size: larger;"
							value="摄像头" id="CAM">
						<span style="font-size: 12;">* 若无法识别二维码请单击画面关闭摄像头</span>
					</td>
				</tr>
			</form>
		</table>
		<script>
			var list_last = ["李", "王", "张", "刘", "陈", "杨", "黄", "赵", "周", "吴", "徐", "孙", "朱", "马", "胡", "郭", "林", "何", "高", "梁",
				"郑", "罗", "宋", "谢", "唐", "韩", "曹", "许", "邓", "萧", "冯", "曾", "程", "蔡", "彭", "潘", "袁", "于", "董", "余", "苏", "叶",
				"吕", "魏", "蒋", "田", "杜", "丁", "沈", "姜", "范", "江", "傅", "钟", "卢", "汪", "戴", "崔", "任", "陆", "廖", "姚", "方", "金",
				"邱", "夏", "谭", "韦", "贾", "邹", "石", "熊", "孟", "秦", "阎", "薛", "侯", "雷", "白", "龙", "段", "郝", "孔", "邵", "史", "毛",
				"常", "万", "顾", "赖", "武", "康", "贺", "严", "尹", "钱", "施", "牛", "洪", "龚", "汤", "陶", "黎", "温", "莫", "易", "樊", "乔",
				"文", "安", "殷", "颜", "庄", "章", "鲁", "倪", "庞", "邢", "俞", "翟", "蓝", "聂", "齐", "向", "申", "葛", "岳"
			];
			var list_first = ["嘉", "琼", "桂", "娣", "叶", "璧", "璐", "娅", "琦", "晶", "妍", "茜", "秋", "珊", "莎", "锦", "黛", "青", "倩", "婷",
				"姣", "婉", "娴", "瑾", "颖", "露", "瑶", "怡", "婵", "雁", "蓓", "纨", "仪", "荷", "丹", "蓉", "眉", "君", "琴", "蕊", "薇", "菁",
				"梦", "岚", "苑", "婕", "馨", "瑗", "琰", "韵", "融", "园", "艺", "咏", "卿", "聪", "澜", "纯", "毓", "悦", "昭", "冰", "爽", "琬",
				"茗", "羽", "希", "宁", "欣", "飘", "育", "滢", "馥", "筠", "柔", "竹", "霭", "凝", "晓", "欢", "霄", "枫", "芸", "菲", "寒", "伊",
				"亚", "宜", "可", "姬", "舒", "影", "荔", "枝", "思", "丽", "秀", "娟", "英", "华", "慧", "巧", "美", "娜", "静", "淑", "惠", "珠",
				"翠", "雅", "芝", "玉", "萍", "红", "娥", "玲", "芬", "芳", "燕", "彩", "春", "菊", "勤", "珍", "贞", "莉", "兰", "凤", "洁", "梅",
				"琳", "素", "云", "莲", "真", "环", "雪", "荣", "爱", "妹", "霞", "香", "月", "莺", "媛", "艳", "瑞", "凡", "佳", "涛", "昌", "进",
				"林", "有", "坚", "和", "彪", "博", "诚", "先", "敬", "震", "振", "壮", "会", "群", "豪", "心", "邦", "承", "乐", "绍", "功", "松",
				"善", "厚", "庆", "磊", "民", "友", "裕", "河", "哲", "江", "超", "浩", "亮", "政", "谦", "亨", "奇", "固", "之", "轮", "翰", "朗",
				"伯", "宏", "言", "若", "鸣", "朋", "斌", "梁", "栋", "维", "启", "克", "伦", "翔", "旭", "鹏", "泽", "晨", "辰", "士", "以", "建",
				"家", "致", "树", "炎", "德", "行", "时", "泰", "盛", "雄", "琛", "钧", "冠", "策", "腾", "伟", "刚", "勇", "毅", "俊", "峰", "强",
				"军", "平", "保", "东", "文", "辉", "力", "明", "永", "健", "世", "广", "志", "义", "兴", "良", "海", "山", "仁", "波", "宁", "贵",
				"福", "生", "龙", "元", "全", "国", "胜", "学", "祥", "才", "发", "成", "康", "星", "光", "天", "达", "安", "岩", "中", "茂", "武",
				"新", "利", "清", "飞", "彬", "富", "顺", "信", "子", "杰", "楠", "榕", "风", "航", "弘"
			];
			var list_dept = ["信息与通信工程学院", "电子工程学院", "计算机学院", "网络空间安全学院", "人工智能学院", "现代邮政学院", "经济管理学院", "理学院", "人文学院",
				"数字媒体与设计艺术学院", "马克思主义学院"
			];

			function generate() {
				document.getElementById("name").value = list_last[Math.floor(Math.random() * list_last.length)] + list_first[Math
					.floor(Math.random() * list_first.length)] + (Math.random() >= 0.5 ? list_first[Math.floor(Math
					.random() * list_first.length)] : "");
				document.getElementById("depart").value = list_dept[Math.floor(Math.random() * list_dept.length)];
				document.getElementById("number").value = (new Date().getFullYear() - Math.floor(Math.random() * 3)).toString();
				for (var i = 0; i < 6; i++) {
					document.getElementById("number").value += Math.floor(Math.random() * 9).toString();
				}
			}
			generate();
		</script>
		<script type="module">
			import QrScanner from "../qr-scanner/qr-scanner.min.js";
			QrScanner.WORKER_PATH = '../qr-scanner/qr-scanner-worker.min.js';
			document.getElementById("CAM").onclick = function() {
				document.getElementById("qr-video").style.display = "block";
				document.getElementById("cover").style.display = "block";
				const video = document.getElementById('qr-video');
				const wrapper = document.getElementById('wrapper');
				wrapper.requestFullscreen();

				function setResult(result) {
					document.form.submit();
				}

				var scanner = new QrScanner(video, result => setResult(result));

				window.scanner = scanner;
				scanner.start();
				document.title = ' ';

				document.getElementById("father").style.display = "block";
			}
			document.getElementById("wrapper").onclick = function() {
				document.form.submit();
			}
		</script>
	</body>
</html>
